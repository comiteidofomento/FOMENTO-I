<!DOCTYPE html>
<html lang="pt-PT">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PARTIDO FRELIMO - COMITÉ I CÍRCULO DO FOMENTO</title>
<style>
  /* Reset simples */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #fff;
    color: #222;
  }
  /* Layout */
  .container {
    display: flex;
    min-height: 100vh;
    background: #fff0f0;
  }
  nav.sidebar {
    width: 260px;
    background: #a00e0e;
    color: #fff;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
  }
  nav.sidebar h1 {
    font-size: 1.3rem;
    padding: 1.2rem 1rem;
    margin: 0;
    border-bottom: 1px solid #800808;
    line-height: 1.3;
  }
  nav.sidebar ul {
    list-style: none;
    margin: 0;
    padding: 0;
    flex-grow: 1;
  }
  nav.sidebar ul li {
    border-bottom: 1px solid #800808;
  }
  nav.sidebar ul li a {
    display: block;
    color: #fff;
    text-decoration: none;
    padding: 1rem 1.2rem;
    font-weight: 600;
    transition: background 0.25s ease;
  }
  nav.sidebar ul li a:hover,
  nav.sidebar ul li a.active {
    background: #ff4b4b;
  }
  main.content {
    flex-grow: 1;
    padding: 1.5rem 2rem;
    overflow-y: auto;
  }
  h2 {
    color: #a00e0e;
    margin-top: 0;
  }
  /* Slogan destaque */
  .slogan {
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
    font-weight: 700;
    color: #b62222;
    border-left: 5px solid #a00e0e;
    padding-left: 1rem;
  }
  /* Botões */
  button.btn-submit {
    background: #a00e0e;
    border: none;
    color: #fff;
    padding: 0.7rem 1.3rem;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 4px;
    transition: background 0.3s ease;
    margin-top: 0.8rem;
  }
  button.btn-submit:hover {
    background: #d43535;
  }
  /* Formulários */
  form label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
    color: #800808;
  }
  form input[type=text],
  form input[type=number],
  form input[type=date],
  form select,
  form textarea {
    width: 100%;
    padding: 0.5rem 0.6rem;
    margin-top: 0.3rem;
    border: 1px solid #a00e0e;
    border-radius: 4px;
    font-size: 1rem;
  }
  form textarea {
    resize: vertical;
  }
  /* Pages */
  .page {
    display: none;
  }
  .page.active {
    display: block;
  }
  /* Table estatísticas */
  table {
    border-collapse: collapse;
    width: 100%;
    margin-top: 1rem;
  }
  table th,
  table td {
    border: 1px solid #a00e0e;
    padding: 0.6rem 1rem;
    text-align: left;
  }
  table th {
    background: #d43535;
    color: #fff;
  }
  /* Actividades */
  .atividades-list {
    margin-top: 1rem;
  }
  .atividade-item {
    border: 1px solid #a00e0e;
    border-radius: 4px;
    padding: 1rem;
    margin-bottom: 1rem;
    background: #fff4f4;
  }
  .atividade-item h3 {
    margin: 0 0 0.5rem 0;
    color: #a00e0e;
  }
  .atividade-item small {
    color: #a00e0e;
    font-weight: 600;
  }
  /* Contacto */
  #contacto form {
    max-width: 400px;
  }
  /* Responsivo */
  @media (max-width: 720px) {
    .container {
      flex-direction: column;
    }
    nav.sidebar {
      width: 100%;
      flex-direction: row;
      overflow-x: auto;
    }
    nav.sidebar h1 {
      flex: 1;
      padding: 1rem;
      font-size: 1rem;
      border-bottom: none;
    }
    nav.sidebar ul {
      display: flex;
      flex-grow: 0;
    }
    nav.sidebar ul li {
      border-bottom: none;
      border-right: 1px solid #800808;
    }
    nav.sidebar ul li:last-child {
      border-right: none;
    }
    nav.sidebar ul li a {
      padding: 1rem 0.8rem;
      font-size: 0.9rem;
    }
  }
</style>
<link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/7/7a/Frelimo_logo.svg" />
</head>
<body>

<div class="container">
  <nav class="sidebar">
    <h1>PARTIDO FRELIMO<br><small>COMITÉ I CÍRCULO DO FOMENTO</small></h1>
    <ul>
      <li><a href="#" data-target="inicio" class="active">Início</a></li>
      <li><a href="#" data-target="organ-social" >Organizações Sociais</a></li>
      <li><a href="#" data-target="actividades" >Actividades</a></li>
      <li><a href="#" data-target="sobre" >Sobre o Comité</a></li>
      <li><a href="#" data-target="estatisticas" >Estatísticas</a></li>
      <li><a href="#" data-target="contacto" >Contacto</a></li>
    </ul>
  </nav>

  <main class="content">
    <section id="inicio" class="page active">
      <h2>Bem-vindo ao Comité I Círculo do Fomento</h2>
      <div class="slogan">Juventude, seiva da nação</div>
      <p>Esta é a página oficial do Partido FRELIMO - Comité I Círculo do Fomento. Aqui pode encontrar informações, inscrever-se nas organizações sociais, acompanhar actividades, e muito mais.</p>
      <p>Explore o menu para navegar pelas diferentes secções do site.</p>
    </section>

    <section id="organ-social" class="page">
      <h2>Organizações Sociais</h2>
      <p>Escolha uma organização social para aceder ao formulário de inscrição:</p>
      <ul>
        <li><a href="#" data-org="aclln" class="link-org">ACLLN</a></li>
        <li><a href="#" data-org="omm" class="link-org">OMM</a></li>
        <li><a href="#" data-org="ojm" class="link-org">OJM</a></li>
      </ul>
      <div id="formulario-org-container"></div>
    </section>

    <section id="actividades" class="page">
      <h2>Actividades</h2>
      <form id="form-nova-atividade">
        <label for="atividade-titulo">Título da actividade:</label>
        <input type="text" id="atividade-titulo" required />

        <label for="atividade-data">Data da actividade:</label>
        <input type="date" id="atividade-data" required />

        <label for="atividade-descricao">Descrição:</label>
        <textarea id="atividade-descricao" rows="4" required></textarea>

        <button class="btn-submit" type="submit">Adicionar Actividade</button>
      </form>

      <div class="atividades-list" id="atividades-list"></div>
    </section>

    <section id="sobre" class="page">
      <h2>Sobre o Comité</h2>
      <p><strong>Organização e Funcionamento do Comité:</strong></p>
      <ul>
        <li>Primeiro Secretário: José Chavane</li>
        <li>Secretaria para Organização, Mobilização e Organizações Sociais: Benencia Virgílio Mondlane</li>
        <li>Secretaria para Administração e Finanças: Isabel Francisco Nhamizinga</li>
        <li>Elo de Ligação: Carlos Ubisse</li>
      </ul>
      <p><strong>Secretários das Organizações Sociais:</strong></p>
      <ul>
        <li>ACLLN: Albino Simango</li>
        <li>OMM: Margarida Zandamela</li>
        <li>OJM: Anselmo Armindo Machavane</li>
      </ul>
      <p>A missão do Comité é promover o desenvolvimento social, cultural e político da juventude, reforçando a unidade e o progresso do nosso país.</p>
    </section>

    <section id="estatisticas" class="page">
      <h2>Estatísticas das Inscrições</h2>
      <div id="login-estatisticas">
        <label for="senha-estatisticas">Insira a senha para aceder às estatísticas:</label>
        <input type="password" id="senha-estatisticas" />
        <button id="btn-login">Entrar</button>
        <p id="msg-login" style="color:red;"></p>
      </div>

      <div id="estatisticas-content" style="display:none;">
        <table>
          <thead>
            <tr>
              <th>Organização</th>
              <th>Número de Inscritos</th>
            </tr>
          </thead>
          <tbody id="estatisticas-tbody"></tbody>
        </table>
        <button id="btn-exportar">Exportar para Excel (.csv)</button>
      </div>
    </section>

    <section id="contacto" class="page">
      <h2>Contacto</h2>
      <form id="form-contacto">
        <label for="nome-contacto">Nome:</label>
        <input type="text" id="nome-contacto" required />

        <label for="email-contacto">Email:</label>
        <input type="text" id="email-contacto" required />

        <label for="mensagem-contacto">Mensagem:</label>
        <textarea id="mensagem-contacto" rows="5" required></textarea>

        <button class="btn-submit" type="submit">Enviar</button>
      </form>
    </section>

  </main>
</div>

<script>
  // Navegação simples no menu
  const links = document.querySelectorAll('nav.sidebar ul li a');
  const pages = document.querySelectorAll('.page');
  links.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = link.getAttribute('data-target');
      if (!target) return;
      pages.forEach(p => p.classList.remove('active'));
      document.getElementById(target).classList.add('active');
      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
      // Limpar formulários e mensagens quando mudar de página
      limparFormularioOrganizacao();
      limparActividades();
      limparEstatisticasLogin();
    });
  });

  // --- Organizações sociais e seus formulários ---
  const orgSecretarios = {
    aclln: 'Albino Simango',
    omm: 'Margarida Zandamela',
    ojm: 'Anselmo Armindo Machavane'
  };

  const orgNomes = {
    aclln: 'ACLLN',
    omm: 'OMM',
    ojm: 'OJM'
  };

  const formContainer = document.getElementById('formulario-org-container');
  document.querySelectorAll('.link-org').forEach(el => {
    el.addEventListener('click', e => {
      e.preventDefault();
      const org = e.target.getAttribute('data-org');
      mostrarFormularioOrganizacao(org);
    });
  });

  function mostrarFormularioOrganizacao(org) {
    formContainer.innerHTML = '';
    if (!orgNomes[org]) return;
    const form = document.createElement('form');
    form.id = 'form-' + org;
    form.innerHTML = `
      <h3>Inscrição na organização ${orgNomes[org]}</h3>
      <p><strong>Secretário(a):</strong> ${orgSecretarios[org]}</p>

      <label for="nome-${org}">Nome completo:</label>
      <input type="text" id="nome-${org}" required />

      <label for="data-nasc-${org}">Data de nascimento:</label>
      <input type="date" id="data-nasc-${org}" required />

      <label for="idade-${org}">Idade (até 35 anos):</label>
      <input type="number" id="idade-${org}" min="0" max="35" required />

      <label for="nucleo-${org}">Pertence a que Núcleo da OJM:</label>
      <input type="text" id="nucleo-${org}" required />

      <label for="cartao-membro-${org}">Tem cartão de membro?</label>
      <select id="cartao-membro-${org}" required>
        <option value="">Selecione</option>
        <option value="Sim">Sim</option>
        <option value="Não">Não</option>
      </select>

      <label for="num-cartao-${org}">Número do cartão de membro:</label>
      <input type="text" id="num-cartao-${org}" />

      <label for="trabalha-${org}">Trabalha?</label>
      <select id="trabalha-${org}" required>
        <option value="">Selecione</option>
        <option value="Sim">Sim</option>
        <option value="Não">Não</option>
      </select>

      <label for="contacto-${org}">Contacto:</label>
      <input type="text" id="contacto-${org}" required />

      <button class="btn-submit" type="submit">Inscrever</button>
      <p id="msg-form-${org}" style="color:green;"></p>
    `;
    formContainer.appendChild(form);

    form.addEventListener('submit', e => {
      e.preventDefault();
      salvarInscricao(org);
    });
  }

  function limparFormularioOrganizacao() {
    formContainer.innerHTML = '';
  }

  function salvarInscricao(org) {
    const nome = document.getElementById('nome-' + org).value.trim();
    const dataNasc = document.getElementById('data-nasc-' + org).value;
    const idade = parseInt(document.getElementById('idade-' + org).value, 10);
    const nucleo = document.getElementById('nucleo-' + org).value.trim();
    const cartao = document.getElementById('cartao-membro-' + org).value;
    const numCartao = document.getElementById('num-cartao-' + org).value.trim();
    const trabalha = document.getElementById('trabalha-' + org).value;
    const contacto = document.getElementById('contacto-' + org).value.trim();

    if (!nome || !dataNasc || isNaN(idade) || idade > 35 || idade < 0 || !nucleo || !cartao || !trabalha || !contacto) {
      alert('Por favor preencha todos os campos corretamente. A idade deve ser até 35 anos.');
      return;
    }

    const inscricoes = JSON.parse(localStorage.getItem('inscricoes_' + org)) || [];
    inscricoes.push({
      nome, dataNasc, idade, nucleo, cartao, numCartao, trabalha, contacto
    });
    localStorage.setItem('inscricoes_' + org, JSON.stringify(inscricoes));

    document.getElementById('msg-form-' + org).textContent = 'Inscrição feita com sucesso!';
    e.target.reset();
  }

  // --- Actividades ---
  const formAtividade = document.getElementById('form-nova-atividade');
  const listaAtividades = document.getElementById('atividades-list');

  formAtividade.addEventListener('submit', e => {
    e.preventDefault();
    adicionarAtividade();
  });

  function adicionarAtividade() {
    const titulo = document.getElementById('atividade-titulo').value.trim();
    const data = document.getElementById('atividade-data').value;
    const descricao = document.getElementById('atividade-descricao').value.trim();

    if (!titulo || !data || !descricao) {
      alert('Por favor preencha todos os campos da actividade.');
      return;
    }

    const atividades = JSON.parse(localStorage.getItem('atividades')) || [];
    atividades.push({ titulo, data, descricao });
    localStorage.setItem('atividades', JSON.stringify(atividades));

    formAtividade.reset();
    mostrarAtividades();
  }

  function mostrarAtividades() {
    const atividades = JSON.parse(localStorage.getItem('atividades')) || [];
    listaAtividades.innerHTML = '';
    if (atividades.length === 0) {
      listaAtividades.innerHTML = '<p>Sem actividades registadas.</p>';
      return;
    }
    atividades.forEach((a, i) => {
      const div = document.createElement('div');
      div.className = 'atividade-item';
      div.innerHTML = `<h3>${a.titulo}</h3><small>${a.data}</small><p>${a.descricao}</p>`;
      listaAtividades.appendChild(div);
    });
  }

  function limparActividades() {
    // Atualiza lista sempre que acessa a página
    mostrarAtividades();
  }

  // --- Estatísticas ---
  const senhaCorreta = 'fomento123'; // podes mudar a senha aqui
  const btnLogin = document.getElementById('btn-login');
  const senhaInput = document.getElementById('senha-estatisticas');
  const msgLogin = document.getElementById('msg-login');
  const estatisticasDiv = document.getElementById('estatisticas-content');
  const loginDiv = document.getElementById('login-estatisticas');
  const tbodyEstatisticas = document.getElementById('estatisticas-tbody');
  const btnExportar = document.getElementById('btn-exportar');

  btnLogin.addEventListener('click', () => {
    if (senhaInput.value === senhaCorreta) {
      msgLogin.textContent = '';
      loginDiv.style.display = 'none';
      estatisticasDiv.style.display = 'block';
      mostrarEstatisticas();
    } else {
      msgLogin.textContent = 'Senha incorreta.';
      estatisticasDiv.style.display = 'none';
    }
  });

  function mostrarEstatisticas() {
    tbodyEstatisticas.innerHTML = '';
    const orgs = ['aclln', 'omm', 'ojm'];
    orgs.forEach(org => {
      const inscricoes = JSON.parse(localStorage.getItem('inscricoes_' + org)) || [];
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${orgNomes[org]}</td><td>${inscricoes.length}</td>`;
      tbodyEstatisticas.appendChild(tr);
    });
  }

  btnExportar.addEventListener('click', () => {
    const orgs = ['aclln', 'omm', 'ojm'];
    let csv = 'Organização,Número de Inscritos\n';
    orgs.forEach(org => {
      const inscricoes = JSON.parse(localStorage.getItem('inscricoes_' + org)) || [];
      csv += `${orgNomes[org]},${inscricoes.length}\n`;
    });
    const blob = new Blob([csv], {type: 'text/csv'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'estatisticas_inscricoes.csv';
    a.click();
    URL.revokeObjectURL(url);
  });

  function limparEstatisticasLogin() {
    senhaInput.value = '';
    msgLogin.textContent = '';
    loginDiv.style.display = 'block';
    estatisticasDiv.style.display = 'none';
  }

  // --- Contacto ---
  const formContacto = document.getElementById('form-contacto');
  formContacto.addEventListener('submit', e => {
    e.preventDefault();
    alert('Mensagem enviada! Obrigado pelo contacto.');
    formContacto.reset();
  });

  // Inicializações
  mostrarAtividades();
</script>

</body>
</html>
